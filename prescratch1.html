<html>

<body>
<script   src="https://code.jquery.com/jquery-3.1.1.js"   integrity="sha256-16cdPddA6VdVInumRGo6IbivbERE8p7CQR3HzTBuELA="   crossorigin="anonymous"></script>

<script>

function make_payment() {
        // Make an AJAX call to the Open Weather Maps API
        //*.local, 169.254/16
    
        $.ajax({
            
              type: "POST",
              //headers: { "Authorization": "T_S_3bdadc9c-54e0-4587-8d91-29813060fecd",
              //         "Content-Type": "application/json"},
              beforeSend : function(xhr) {
                console.log("Setting auth header, does it fire!??");
                    xhr.setRequestHeader( "Authorization", "T_S_3bdadc9c-54e0-4587-8d91-29813060fecd" );
                    //xhr.setRequestHeader( "Content-Type", "application/json" );
          //xhr.setRequestHeader( "Access-Control-Allow-Origin: *")
              //xhr.setRequestHeader( "Authorization", "Token T_C_97e8cbaa-14e0-4b1c-b2af-469daf8f1356" );
          },
              contentType:    'application/json',
              url: 'https://api.worldpay.com/v1/orders',
              data: "{\"paymentMethod\":{\"type\":\"Card\",\"name\":\"cardholder-name\",\"expiryMonth\":\"2\",              \"expiryYear\":\"2020\",              \"cardNumber\":\"4444333322221111\",              \"cvc\":\"123\",              \"issueNumber\":\"1\"           },              \"orderType\": \"ECOM\",              \"orderDescription\": \"your-order-description\",               \"amount\": 500,              \"currencyCode\": \"GBP\" }",
              //dataType: 'json',
              success: function(responseData) {
                  // Got the data - parse it and return the temperature
                  console.log("PAYMENT should have HAPPENED! " + responseData);
              },
        error: function (xhr, tst, err) {
             console.log('XHR ERROR ' + xhr.status +  tst + err + xhr.responseText);
        },
        })
  }

  make_payment();

</script>

</body>
</html>